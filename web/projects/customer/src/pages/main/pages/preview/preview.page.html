<div class="preview-app" [class.mini]="mini">
    <div class="box">
        <div class="header">
            <div class="back-button">
                <a class="icon-button" type="button" routerLink="..">
                    <mat-icon>arrow_back</mat-icon>
                </a>
            </div>
            <div class="title">
                <span class="global-subtitle">
                    Your order
                </span>
            </div>
        </div>


        <app-order *ngIf="orderInfo" [hasError]="errors.order" [settings]="settings" [getComment]="getComment"
            [order]="orderInfo"></app-order>


        <app-items *ngIf="items" [hasError]="errors.items" [loading]="itemsLoading" [fullItemUrl]="fullItemUrl" (subtotalChanged)="changeSubtotal($event)" [items]="items"
            [getComment]="getComment"></app-items>


        <div class="subtotal" *ngIf="subtotal || subtotal === 0">
            <div class="text">
                <span class="global-text">
                    Taxes calculated at checkout
                </span>
            </div>
            <div class="checkout">
                <span class="global-text big black bold">
                    ${{ subtotal / 100 }}
                </span>
                <button (click)="checkout()" id="goto-checkout" class="orange-button button">
                    Checkout
                    <mat-icon>arrow_forward</mat-icon>
                </button>
            </div>
        </div>

        <div class="address" *ngIf="address">
            <mat-icon>
                place
            </mat-icon>
            <span class="global-text small">
                {{ address }}
            </span>
        </div>

        <div *ngIf="!orderInfo" class="global-loading height-124">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div *ngIf="loading" class="global-loading full-page">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>


<ng-container #modalContainer></ng-container>